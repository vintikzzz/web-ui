(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/x4d":function(e,t,r){"use strict";
/*!
* This is a `i18n` language object.
*
* Russian
*
* @author
*   Jalios (Twitter: @Jalios)
*   Sascha Greuel (Twitter: @SoftCreatR)
*
* @see core/i18n.js
*/!function(e){void 0===e.ru&&(e.ru={"mejs.plural-form":7,"mejs.download-file":"Скачать файл","mejs.install-flash":"Flash player в вашем браузере не установлен или отключен. Пожалуйста включите ваш Flash player или скачайте последнюю версию с https://get.adobe.com/flashplayer/","mejs.fullscreen":"Полноэкранный режим","mejs.play":"Воспроизвести","mejs.pause":"Пауза","mejs.time-slider":"Слайдер времени","mejs.time-help-text":"Используйте Левую/Правую клавиши со стрелками, чтобы продвинуться на одну секунду, клавиши со стрелками Вверх/Вниз, чтобы продвинуться на десять секунд.","mejs.live-broadcast":"Прямая трансляция","mejs.volume-help-text":"Используйте клавиши со стрелками Вверх/Вниз, чтобы увеличить или уменьшить громкость.","mejs.unmute":"Включить звук","mejs.mute":"Отключить звук","mejs.volume-slider":"Слайдер громкости","mejs.video-player":"Видеоплеер","mejs.audio-player":"Аудиоплеер","mejs.captions-subtitles":"Титры/Субтитры","mejs.captions-chapters":"Главы","mejs.none":"Нет","mejs.afrikaans":"Африканский","mejs.albanian":"Албанский","mejs.arabic":"Арабский","mejs.belarusian":"Белорусский","mejs.bulgarian":"Болгарский","mejs.catalan":"Каталонский","mejs.chinese":"Китайский","mejs.chinese-simplified":"Китайский (упрощенный)","mejs.chinese-traditional":"Chinese (традиционный)","mejs.croatian":"Хорватский","mejs.czech":"Чешский","mejs.danish":"Датский","mejs.dutch":"Голландский","mejs.english":"Английский","mejs.estonian":"Эстонский","mejs.filipino":"Филиппинский","mejs.finnish":"Финский","mejs.french":"Французский","mejs.galician":"Галисийский","mejs.german":"Немецкий","mejs.greek":"Греческий","mejs.haitian-creole":"Гаитянский креольский","mejs.hebrew":"Иврит","mejs.hindi":"Хинди","mejs.hungarian":"Венгерский","mejs.icelandic":"Исландский","mejs.indonesian":"Индонезийский","mejs.irish":"Ирландский","mejs.italian":"Итальянский","mejs.japanese":"Японский","mejs.korean":"Корейский","mejs.latvian":"Латышский","mejs.lithuanian":"Литовский","mejs.macedonian":"Македонский","mejs.malay":"Малайский","mejs.maltese":"Мальтийский","mejs.norwegian":"Норвежский","mejs.persian":"Персидский","mejs.polish":"Польский","mejs.portuguese":"Португальский","mejs.romanian":"Румынский","mejs.russian":"Русский","mejs.serbian":"Сербский","mejs.slovak":"Словацкий","mejs.slovenian":"Словенский","mejs.spanish":"Испанский","mejs.swahili":"Суахили","mejs.swedish":"Шведский","mejs.tagalog":"Тагальский","mejs.thai":"Тайский","mejs.turkish":"Турецкий","mejs.ukrainian":"Украинский","mejs.vietnamese":"Вьетнамский","mejs.welsh":"Валлийский","mejs.yiddish":"Идиш"})}(mejs.i18n)},1:function(e,t){},"1H9+":function(e,t,r){"use strict";(function(e){var s=r("gjdr"),n=r("pDVM"),i=r("Zm7i"),a=r("imkT"),o=r("KFw/"),l=r.n(o);const u=r("Ja68")("webtor:sdk:torrent");t.a=function(t={}){const r={params:t};return{fromUrl:t=>(u("fetch torrent from url=%s",t),new Promise((r,s)=>{const n=new XMLHttpRequest;n.addEventListener("error",s),n.onreadystatechange=async function(){if(this.readyState==XMLHttpRequest.DONE){const t=new Uint8Array(this.response),s=new e(t.byteLength),n=new Uint8Array(t);for(let e=0;e<s.length;++e)s[e]=n[e];r(l()(s))}},n.open("GET",t),n.responseType="arraybuffer",n.send()})),pull(t,o={},c={}){const h=(c=Object.assign(r.params,c)).apiUrl+c.endpoints.torrent;u("pull torrent infoHash=%s url=%s metadata=%o",t,h,o);const p=new n.PullRequest;p.setInfohash(t);return Object(a.a)(()=>i.grpc.client(s.TorrentStore.Pull,{host:h,debug:c.grpcDebug}),p,(t,r,s)=>{if(""==t.torrent)return s("no torrent");let n=e.from(t.torrent,"base64");n=l()(n),u("and finally torrent=%o",n),r(n)},(e,t,r)=>{e==i.grpc.Code.PermissionDenied?r("abused"):e!==i.grpc.Code.OK&&r("failed to pull torrent code="+e)},o,c)},push(e,t,o={},c={}){const h=(c=Object.assign(r.params,c)).apiUrl+c.endpoints.torrent;u("push torrent url=%s metadata=%o",h,o);const p=new n.PushRequest;p.setTorrent(l.a.toTorrentFile(e));return Object(a.a)(()=>i.grpc.client(s.TorrentStore.Push,{host:h,debug:c.grpcDebug}),p,null,(e,t,r)=>{e===i.grpc.Code.OK?(u("torrent stored"),t()):e===i.grpc.Code.NotFound?r("not found"):e===i.grpc.Code.PermissionDenied?r("abused"):r("failed to push torrent code="+e)},o,c)},touch(e,t,o={},l={}){const c=(l=Object.assign(r.params,l)).apiUrl+l.endpoints.torrent;u("touch torrent url=%s metadata=%o",c,o);const h=new n.TouchRequest;h.setInfohash(e.infoHash);return Object(a.a)(()=>i.grpc.client(s.TorrentStore.Touch,{host:c,debug:l.grpcDebug}),h,null,(e,t,r)=>{e===i.grpc.Code.OK?(u("torrent touched"),t()):e===i.grpc.Code.PermissionDenied?r("abused"):e===i.grpc.Code.NotFound?r("not found"):r("failed to touch torrent code="+e)},o,l)}}}}).call(this,r("HDXh").Buffer)},2:function(e,t){},3:function(e,t){},4:function(e,t){},"8WpJ":function(e,t,r){var s=r("FSvW"),n=s,i={};n.exportSymbol("StatReply",null,i),n.exportSymbol("StatReply.Status",null,i),n.exportSymbol("StatRequest",null,i),i.StatRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.StatRequest,s.Message),n.DEBUG&&!COMPILED&&(i.StatRequest.displayName="proto.StatRequest"),i.StatReply=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.StatReply,s.Message),n.DEBUG&&!COMPILED&&(i.StatReply.displayName="proto.StatReply"),s.Message.GENERATE_TO_OBJECT&&(i.StatRequest.prototype.toObject=function(e){return i.StatRequest.toObject(e,this)},i.StatRequest.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),i.StatRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.StatRequest;return i.StatRequest.deserializeBinaryFromReader(r,t)},i.StatRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},i.StatRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.StatRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.StatRequest.serializeBinaryToWriter=function(e,t){},s.Message.GENERATE_TO_OBJECT&&(i.StatReply.prototype.toObject=function(e){return i.StatReply.toObject(e,this)},i.StatReply.toObject=function(e,t){var r={status:s.Message.getFieldWithDefault(t,1,0),downloaded:s.Message.getFieldWithDefault(t,2,0),rate:s.Message.getFieldWithDefault(t,3,0),length:s.Message.getFieldWithDefault(t,4,0)};return e&&(r.$jspbMessageInstance=t),r}),i.StatReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.StatReply;return i.StatReply.deserializeBinaryFromReader(r,t)},i.StatReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setStatus(r);break;case 2:r=t.readInt64();e.setDownloaded(r);break;case 3:r=t.readInt64();e.setRate(r);break;case 4:r=t.readInt64();e.setLength(r);break;default:t.skipField()}}return e},i.StatReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.StatReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.StatReply.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getStatus())&&t.writeEnum(1,r),0!==(r=e.getDownloaded())&&t.writeInt64(2,r),0!==(r=e.getRate())&&t.writeInt64(3,r),0!==(r=e.getLength())&&t.writeInt64(4,r)},i.StatReply.Status={NOT_STARTED:0,PENDING:1,ACTIVE:2,DONE:3,FAILED:4},i.StatReply.prototype.getStatus=function(){return s.Message.getFieldWithDefault(this,1,0)},i.StatReply.prototype.setStatus=function(e){return s.Message.setProto3EnumField(this,1,e)},i.StatReply.prototype.getDownloaded=function(){return s.Message.getFieldWithDefault(this,2,0)},i.StatReply.prototype.setDownloaded=function(e){return s.Message.setProto3IntField(this,2,e)},i.StatReply.prototype.getRate=function(){return s.Message.getFieldWithDefault(this,3,0)},i.StatReply.prototype.setRate=function(e){return s.Message.setProto3IntField(this,3,e)},i.StatReply.prototype.getLength=function(){return s.Message.getFieldWithDefault(this,4,0)},i.StatReply.prototype.setLength=function(e){return s.Message.setProto3IntField(this,4,e)},n.object.extend(t,i)},DZhY:function(e,t,r){var s=r("OLJq"),n=r("Zm7i").grpc,i=function(){function e(){}return e.serviceName="Magnet2Torrent",e}();function a(e,t){this.serviceHost=e,this.options=t||{}}i.Magnet2Torrent={methodName:"Magnet2Torrent",service:i,requestStream:!1,responseStream:!1,requestType:s.Magnet2TorrentRequest,responseType:s.Magnet2TorrentReply},t.Magnet2Torrent=i,a.prototype.magnet2Torrent=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Magnet2Torrent,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},t.Magnet2TorrentClient=a},IV8F:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var s=r("aACs"),n=r.n(s),i=r("KFw/"),a=r.n(i);class o{constructor({path:e,name:t,type:r},s,n){this.path=e,this.name=t,this.type=r,this.sdk=s,this.seeder=n}get isFile(){return"file"==this.type}get isDir(){return"dir"==this.type}get mediaType(){return this.isDir?null:this.sdk.util.getMediaType(this.name)}async getMimeType(){return this.isDir?null:this.sdk.util.getMimeType(await this.getStreamUrl())}async deliveryType(){return this.isDir?null:this.sdk.util.getDeliveryType(this.name)}async getStreamUrl(){return this.isDir?null:await this.seeder.streamUrl(this.path)}async getSegmentUrl(e,t){return this.isDir?null:await this.seeder.segmentUrl(this.path,e,t)}}class l extends o{constructor(e,t,r){super({path:"/"+e.path,name:e.name,type:"file"},t,r),this.length=e.length}}class u extends o{constructor(e,t,r,s){super({path:e,name:t,type:"dir"},r,s),this.content={}}}class c{constructor(e,t,r){n()(this,"type","torrent"),this.id=e.infoHash,this.torrent=e,this.sdk=t,this.seeder=r}get title(){return this.torrent.name}get shortType(){return this.type.charAt(0)}get magnetUri(){return a.a.toMagnetURI(this.torrent)}addBranch(e,t,r,s){if(0==t.length)return new l(r,this.sdk,this.seeder);const n=t.shift();return s.push(n),t.length>0?(null==e[n]&&(e[n]=new u("/"+s.join("/"),n,this.sdk,this.seeder)),e[n].content=this.addBranch(e[n].content,t,r,s)):e[n]=new l(r,this.sdk,this.seeder),e}get tree(){let e={};for(let t of this.torrent.files){const r=t.path.split("/");e=this.addBranch(e,r,t,[])}return e}get root(){return"/"+Object.keys(this.tree)[0]}dirname(e){e=(e=e.replace(/^\//,"").replace(/\/$/,"")).split("/");let t=this.tree,r=[];for(;;){const s=e.shift(e);if(!t[s]||!t[s].isDir)break;r.push(s),t=t[s].content}return"/"+r.join("/")}filename(e){e=(e=e.replace(/^\//,"").replace(/\/$/,"")).split("/");let t=this.tree;for(;;){const r=e.shift(e);if(!t[r])break;t=t[r]}return t.isFile&&t.isFile?t.name:null}ls(e){e=(e=e.replace(/^\//,"").replace(/\/$/,""))?e.split("/"):[];let t=this.tree;for(let r of e)t=t[r].content;let r=[];for(let e in t)r.push(t[e]);return e.length>1&&(e.pop(),r.push(new u(e.join("/"),".."))),r=r.sort((e,t)=>e.name.localeCompare(t.name)),r}}function h(e,t){const r=t.seeder.get(e.infoHash);return new c(e,t,r)}},IY8t:function(e,t,r){"use strict";(function(e){var s=r("KFw/"),n=r.n(s),i=r("IV8F");const a=r("Ja68")("webtor:sdk:loader");t.a=function(t,r){const s={params:t,sdk:r};return{async load(e,t,n={}){a("loading source=%o",e),n=Object.assign(s.params,n);let o=!1;if(0==o&&(o=await this.loadTorrentObject(e,t,n)),0==o&&(o=await this.loadTorrentFile(e,t,n)),0==o&&(o=await this.loadMagnet(e,t,n)),0==o&&(o=await this.loadTorrentUrl(e,t,n)),0!=o&&await this.pushTorrent(o,t,n),0==o)throw"failed to load resource";return Object(i.a)(o,r)},async loadById(e,t,n,o={}){if(a("loading type=%o id=%o",e,t),o=Object.assign(s.params,o),"torrent"==e||"t"==e){let e=!1;return 0==e&&(e=await this.loadMagnet(t,n,o)),0!=e&&await this.pushTorrent(e,n,o),Object(i.a)(e,r)}},async pushTorrent(e,t,n={}){n=Object.assign(s.params,n),a("push torrent infohash=%o",e.infoHash);try{return await r.torrent.touch(e,2592e3,t)}catch(s){if("not found"!=s)throw a(s),s;try{return await r.torrent.push(e,2592e3,t)}catch(e){throw a(e),e}}},loadTorrentObject:async(e,t,r={})=>"object"==typeof e&&null!=e.infoHash&&null!=e.files&&e,loadTorrentUrl:async(t,s,i={})=>!!t.match(/^http/)&&(!(!t.match(/\.torrent$/)&&!t.match(/[a-fA-F0-9]{40}/))&&(t=await r.ext.url(t),await new Promise((r,s)=>{const i=new XMLHttpRequest;i.addEventListener("error",s),i.onreadystatechange=async function(){if(this.readyState==XMLHttpRequest.DONE){const t=new Uint8Array(this.response),s=new e(t.byteLength),i=new Uint8Array(t);for(let e=0;e<s.length;++e)s[e]=i[e];r(n()(s))}},i.open("GET",t),i.responseType="arraybuffer",i.send()}))),async loadTorrentFile(e,t,r={}){if("object"!=typeof e||"application/x-bittorrent"!=e.type||!e.size)return!1;try{const t=await this.fileToArray(e);return n()(t)}catch(e){throw a(e),e}},async loadMagnet(e,t,i={}){i=Object.assign(s.params,i);let o=null;if(!e.match(/^magnet/)&&!e.match(/^[a-fA-F0-9]{40}$/))return!1;try{o=n()(e)}catch(e){throw a(e),e}const l=o.infoHash;if(l&&i.db&&(a("loading from local db infohash=%o",l),o=await i.db.pullTorrent(l)),!o||!o.pieces||0==o.pieces.length)try{a("loading from torrent store infohash=%o",l),o=await r.torrent.pull(l,t)}catch(e){throw a(e),e}return o||(a("loading by magnet uri from peers magnet=%o",e),o=await r.magnet.fetchTorrent(e,t)),o},fileToArray:t=>new Promise((r,s)=>{const n=new FileReader;n.addEventListener("load",t=>{const n=new Uint8Array(t.target.result),i=new e(n);try{r(i)}catch(t){s(t)}}),n.addEventListener("error",e=>{s(e)}),n.readAsArrayBuffer(t)})}}}).call(this,r("HDXh").Buffer)},OLJq:function(e,t,r){var s=r("FSvW"),n=s,i={};n.exportSymbol("Magnet2TorrentReply",null,i),n.exportSymbol("Magnet2TorrentRequest",null,i),i.Magnet2TorrentRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.Magnet2TorrentRequest,s.Message),n.DEBUG&&!COMPILED&&(i.Magnet2TorrentRequest.displayName="proto.Magnet2TorrentRequest"),i.Magnet2TorrentReply=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.Magnet2TorrentReply,s.Message),n.DEBUG&&!COMPILED&&(i.Magnet2TorrentReply.displayName="proto.Magnet2TorrentReply"),s.Message.GENERATE_TO_OBJECT&&(i.Magnet2TorrentRequest.prototype.toObject=function(e){return i.Magnet2TorrentRequest.toObject(e,this)},i.Magnet2TorrentRequest.toObject=function(e,t){var r={magnet:s.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),i.Magnet2TorrentRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.Magnet2TorrentRequest;return i.Magnet2TorrentRequest.deserializeBinaryFromReader(r,t)},i.Magnet2TorrentRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setMagnet(r);break;default:t.skipField()}}return e},i.Magnet2TorrentRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.Magnet2TorrentRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.Magnet2TorrentRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getMagnet()).length>0&&t.writeString(1,r)},i.Magnet2TorrentRequest.prototype.getMagnet=function(){return s.Message.getFieldWithDefault(this,1,"")},i.Magnet2TorrentRequest.prototype.setMagnet=function(e){return s.Message.setProto3StringField(this,1,e)},s.Message.GENERATE_TO_OBJECT&&(i.Magnet2TorrentReply.prototype.toObject=function(e){return i.Magnet2TorrentReply.toObject(e,this)},i.Magnet2TorrentReply.toObject=function(e,t){var r={torrent:t.getTorrent_asB64()};return e&&(r.$jspbMessageInstance=t),r}),i.Magnet2TorrentReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.Magnet2TorrentReply;return i.Magnet2TorrentReply.deserializeBinaryFromReader(r,t)},i.Magnet2TorrentReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setTorrent(r);break;default:t.skipField()}}return e},i.Magnet2TorrentReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.Magnet2TorrentReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.Magnet2TorrentReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getTorrent_asU8()).length>0&&t.writeBytes(1,r)},i.Magnet2TorrentReply.prototype.getTorrent=function(){return s.Message.getFieldWithDefault(this,1,"")},i.Magnet2TorrentReply.prototype.getTorrent_asB64=function(){return s.Message.bytesAsB64(this.getTorrent())},i.Magnet2TorrentReply.prototype.getTorrent_asU8=function(){return s.Message.bytesAsU8(this.getTorrent())},i.Magnet2TorrentReply.prototype.setTorrent=function(e){return s.Message.setProto3BytesField(this,1,e)},n.object.extend(t,i)},Qeei:function(e,t,r){var s=r("FSvW"),n=s,i={};n.exportSymbol("CheckReply",null,i),n.exportSymbol("CheckRequest",null,i),n.exportSymbol("PushReply",null,i),n.exportSymbol("PushRequest",null,i),n.exportSymbol("PushRequest.Cause",null,i),n.exportSymbol("PushRequest.Source",null,i),i.PushReply=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.PushReply,s.Message),n.DEBUG&&!COMPILED&&(i.PushReply.displayName="proto.PushReply"),i.PushRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.PushRequest,s.Message),n.DEBUG&&!COMPILED&&(i.PushRequest.displayName="proto.PushRequest"),i.CheckRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.CheckRequest,s.Message),n.DEBUG&&!COMPILED&&(i.CheckRequest.displayName="proto.CheckRequest"),i.CheckReply=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.CheckReply,s.Message),n.DEBUG&&!COMPILED&&(i.CheckReply.displayName="proto.CheckReply"),s.Message.GENERATE_TO_OBJECT&&(i.PushReply.prototype.toObject=function(e){return i.PushReply.toObject(e,this)},i.PushReply.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),i.PushReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.PushReply;return i.PushReply.deserializeBinaryFromReader(r,t)},i.PushReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},i.PushReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.PushReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.PushReply.serializeBinaryToWriter=function(e,t){},s.Message.GENERATE_TO_OBJECT&&(i.PushRequest.prototype.toObject=function(e){return i.PushRequest.toObject(e,this)},i.PushRequest.toObject=function(e,t){var r={noticeId:s.Message.getFieldWithDefault(t,1,""),infohash:s.Message.getFieldWithDefault(t,2,""),filename:s.Message.getFieldWithDefault(t,3,""),work:s.Message.getFieldWithDefault(t,4,""),startedAt:s.Message.getFieldWithDefault(t,5,0),email:s.Message.getFieldWithDefault(t,6,""),description:s.Message.getFieldWithDefault(t,7,""),subject:s.Message.getFieldWithDefault(t,8,""),cause:s.Message.getFieldWithDefault(t,9,0),source:s.Message.getFieldWithDefault(t,10,0)};return e&&(r.$jspbMessageInstance=t),r}),i.PushRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.PushRequest;return i.PushRequest.deserializeBinaryFromReader(r,t)},i.PushRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setNoticeId(r);break;case 2:r=t.readString();e.setInfohash(r);break;case 3:r=t.readString();e.setFilename(r);break;case 4:r=t.readString();e.setWork(r);break;case 5:r=t.readInt64();e.setStartedAt(r);break;case 6:r=t.readString();e.setEmail(r);break;case 7:r=t.readString();e.setDescription(r);break;case 8:r=t.readString();e.setSubject(r);break;case 9:r=t.readEnum();e.setCause(r);break;case 10:r=t.readEnum();e.setSource(r);break;default:t.skipField()}}return e},i.PushRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.PushRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.PushRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getNoticeId()).length>0&&t.writeString(1,r),(r=e.getInfohash()).length>0&&t.writeString(2,r),(r=e.getFilename()).length>0&&t.writeString(3,r),(r=e.getWork()).length>0&&t.writeString(4,r),0!==(r=e.getStartedAt())&&t.writeInt64(5,r),(r=e.getEmail()).length>0&&t.writeString(6,r),(r=e.getDescription()).length>0&&t.writeString(7,r),(r=e.getSubject()).length>0&&t.writeString(8,r),0!==(r=e.getCause())&&t.writeEnum(9,r),0!==(r=e.getSource())&&t.writeEnum(10,r)},i.PushRequest.Cause={ILLEGAL_CONTENT:0,MALWARE:1,APP_ERROR:2,QUESTION:3},i.PushRequest.Source={MAIL:0,FORM:1},i.PushRequest.prototype.getNoticeId=function(){return s.Message.getFieldWithDefault(this,1,"")},i.PushRequest.prototype.setNoticeId=function(e){return s.Message.setProto3StringField(this,1,e)},i.PushRequest.prototype.getInfohash=function(){return s.Message.getFieldWithDefault(this,2,"")},i.PushRequest.prototype.setInfohash=function(e){return s.Message.setProto3StringField(this,2,e)},i.PushRequest.prototype.getFilename=function(){return s.Message.getFieldWithDefault(this,3,"")},i.PushRequest.prototype.setFilename=function(e){return s.Message.setProto3StringField(this,3,e)},i.PushRequest.prototype.getWork=function(){return s.Message.getFieldWithDefault(this,4,"")},i.PushRequest.prototype.setWork=function(e){return s.Message.setProto3StringField(this,4,e)},i.PushRequest.prototype.getStartedAt=function(){return s.Message.getFieldWithDefault(this,5,0)},i.PushRequest.prototype.setStartedAt=function(e){return s.Message.setProto3IntField(this,5,e)},i.PushRequest.prototype.getEmail=function(){return s.Message.getFieldWithDefault(this,6,"")},i.PushRequest.prototype.setEmail=function(e){return s.Message.setProto3StringField(this,6,e)},i.PushRequest.prototype.getDescription=function(){return s.Message.getFieldWithDefault(this,7,"")},i.PushRequest.prototype.setDescription=function(e){return s.Message.setProto3StringField(this,7,e)},i.PushRequest.prototype.getSubject=function(){return s.Message.getFieldWithDefault(this,8,"")},i.PushRequest.prototype.setSubject=function(e){return s.Message.setProto3StringField(this,8,e)},i.PushRequest.prototype.getCause=function(){return s.Message.getFieldWithDefault(this,9,0)},i.PushRequest.prototype.setCause=function(e){return s.Message.setProto3EnumField(this,9,e)},i.PushRequest.prototype.getSource=function(){return s.Message.getFieldWithDefault(this,10,0)},i.PushRequest.prototype.setSource=function(e){return s.Message.setProto3EnumField(this,10,e)},s.Message.GENERATE_TO_OBJECT&&(i.CheckRequest.prototype.toObject=function(e){return i.CheckRequest.toObject(e,this)},i.CheckRequest.toObject=function(e,t){var r={infohash:s.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),i.CheckRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.CheckRequest;return i.CheckRequest.deserializeBinaryFromReader(r,t)},i.CheckRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setInfohash(r);break;default:t.skipField()}}return e},i.CheckRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.CheckRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.CheckRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getInfohash()).length>0&&t.writeString(1,r)},i.CheckRequest.prototype.getInfohash=function(){return s.Message.getFieldWithDefault(this,1,"")},i.CheckRequest.prototype.setInfohash=function(e){return s.Message.setProto3StringField(this,1,e)},s.Message.GENERATE_TO_OBJECT&&(i.CheckReply.prototype.toObject=function(e){return i.CheckReply.toObject(e,this)},i.CheckReply.toObject=function(e,t){var r={exists:s.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(r.$jspbMessageInstance=t),r}),i.CheckReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.CheckReply;return i.CheckReply.deserializeBinaryFromReader(r,t)},i.CheckReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setExists(r);break;default:t.skipField()}}return e},i.CheckReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.CheckReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.CheckReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getExists())&&t.writeBool(1,r)},i.CheckReply.prototype.getExists=function(){return s.Message.getBooleanFieldWithDefault(this,1,!1)},i.CheckReply.prototype.setExists=function(e){return s.Message.setProto3BooleanField(this,1,e)},n.object.extend(t,i)},T05x:function(e,t,r){var s=r("8WpJ"),n=r("Zm7i").grpc,i=function(){function e(){}return e.serviceName="DownloadProgress",e}();function a(e,t){this.serviceHost=e,this.options=t||{}}i.Stat={methodName:"Stat",service:i,requestStream:!1,responseStream:!1,requestType:s.StatRequest,responseType:s.StatReply},i.StatStream={methodName:"StatStream",service:i,requestStream:!1,responseStream:!0,requestType:s.StatRequest,responseType:s.StatReply},t.DownloadProgress=i,a.prototype.stat=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Stat,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},a.prototype.statStream=function(e,t){var r={data:[],end:[],status:[]},s=n.invoke(i.StatStream,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onMessage:function(e){r.data.forEach((function(t){t(e)}))},onEnd:function(e,t,s){r.status.forEach((function(r){r({code:e,details:t,metadata:s})})),r.end.forEach((function(r){r({code:e,details:t,metadata:s})})),r=null}});return{on:function(e,t){return r[e].push(t),this},cancel:function(){r=null,s.close()}}},t.DownloadProgressClient=a},Wfd4:function(e,t,r){var s=r("xPdp"),n=r("Zm7i").grpc,i=function(){function e(){}return e.serviceName="TorrentWebSeeder",e}();function a(e,t){this.serviceHost=e,this.options=t||{}}i.Stat={methodName:"Stat",service:i,requestStream:!1,responseStream:!1,requestType:s.StatRequest,responseType:s.StatReply},i.StatStream={methodName:"StatStream",service:i,requestStream:!1,responseStream:!0,requestType:s.StatRequest,responseType:s.StatReply},i.Files={methodName:"Files",service:i,requestStream:!1,responseStream:!1,requestType:s.FilesRequest,responseType:s.FilesReply},t.TorrentWebSeeder=i,a.prototype.stat=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Stat,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},a.prototype.statStream=function(e,t){var r={data:[],end:[],status:[]},s=n.invoke(i.StatStream,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onMessage:function(e){r.data.forEach((function(t){t(e)}))},onEnd:function(e,t,s){r.status.forEach((function(r){r({code:e,details:t,metadata:s})})),r.end.forEach((function(r){r({code:e,details:t,metadata:s})})),r=null}});return{on:function(e,t){return r[e].push(t),this},cancel:function(){r=null,s.close()}}},a.prototype.files=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Files,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},t.TorrentWebSeederClient=a},gjdr:function(e,t,r){var s=r("pDVM"),n=r("Zm7i").grpc,i=function(){function e(){}return e.serviceName="TorrentStore",e}();function a(e,t){this.serviceHost=e,this.options=t||{}}i.Push={methodName:"Push",service:i,requestStream:!1,responseStream:!1,requestType:s.PushRequest,responseType:s.PushReply},i.Pull={methodName:"Pull",service:i,requestStream:!1,responseStream:!1,requestType:s.PullRequest,responseType:s.PullReply},i.Touch={methodName:"Touch",service:i,requestStream:!1,responseStream:!1,requestType:s.TouchRequest,responseType:s.TouchReply},t.TorrentStore=i,a.prototype.push=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Push,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},a.prototype.pull=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Pull,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},a.prototype.touch=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Touch,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},t.TorrentStoreClient=a},imkT:function(e,t,r){"use strict";var s=r("Zm7i");const n=r("Ja68")("webtor:sdk");t.a=async function(e,t,r,i,a={},o={}){a.token=await o.getToken(),a["api-key"]=o.apiKey;let l=0;return new Promise((function(u,c){!function h(){const p=e();r&&p.onMessage(e=>{n("got message=%o",e.toObject()),r(e.toObject(),u,c)}),i&&p.onEnd(async e=>{(e==s.grpc.Code.Unknown||e==s.grpc.Code.Unavailable)&&o.retryInterval&&o.retryLimit>0&&l<o.retryLimit?(n("failed to get process request error=%o retry count=%o",e,l),await new Promise(e=>setTimeout(e,o.retryInterval)),l++,h()):i(e,u,c)}),p.start(new s.grpc.Metadata(a)),p.send(t),p.finishSend()}()}))}},kUwx:function(e,t,r){"use strict";(function(e){var s=r("DZhY"),n=r("OLJq"),i=r("Zm7i"),a=r("imkT"),o=r("KFw/"),l=r.n(o);const u=r("Ja68")("webtor:sdk:magnet");t.a=function(t={}){const r={params:t};return{fetchTorrent(t,o={},c={}){const h=(c=Object.assign(r.params,c)).apiUrl+"/magnet2torrent";u("fetch torrent magnet=%s url=%s metadata=%o",t,h,o);const p=new n.Magnet2TorrentRequest;p.setMagnet(t);return Object(a.a)(()=>i.grpc.client(s.Magnet2Torrent.Magnet2Torrent,{host:h,transport:i.grpc.WebsocketTransport(),debug:c.grpcDebug}),p,(t,r,s)=>{if(""==t.torrent)return s("no torrent");let n=e.from(t.torrent,"base64");n=l()(n),u("and finally torrent=%o",n),r(n)},(e,t,r)=>{e!==i.grpc.Code.OK&&r("failed to fetch torrent code="+e)},o,c)}}}}).call(this,r("HDXh").Buffer)},oRvx:function(e,t,r){"use strict";var s=r("1H9+"),n=r("kUwx"),i=r("pKfA"),a=r("Qeei"),o=r("Zm7i"),l=r("imkT");const u=r("Ja68")("webtor:sdk:abuse");var c=function(e={}){const t={params:e};return{push(e,r={},s={}){const n=(s=Object.assign(t.params,s)).apiUrl+"/abuse";u("push abuse url=%s metadata=%o",n,r);const c=new a.PushRequest;c.setSubject(e.subject),c.setDescription(e.description),c.setInfohash(e.infohash),c.setFilename(e.filename),c.setEmail(e.email),c.setWork(e.work),c.setCause(e.cause),c.setSource(a.PushRequest.Source.FORM);return Object(l.a)(()=>o.grpc.client(i.AbuseStore.Push,{host:n,debug:s.grpcDebug}),c,null,(e,t,r)=>{e===o.grpc.Code.OK?(u("abuse stored"),t()):r("failed to push abuse code="+e)},r,s)}}},h=r("Wfd4"),p=r("xPdp"),d=r("y4TM"),g=r.n(d);const y=r("Ja68")("webtor:sdk:seeder:stats");class f{constructor(e,t){this.url=e,this.path=t,this.closed=!1,this.client=null}close(){this.closed||(this.closed=!0,y("close stats url=%o path=%o",this.url,this.path),this.client&&this.client.close())}start(e,t,r){const s=new p.StatRequest;s.setPath(this.path);const n=g()(p.StatReply.Status);let i=null;return Object(l.a)(()=>{const e=o.grpc.client(h.TorrentWebSeeder.StatStream,{host:this.url,transport:o.grpc.WebsocketTransport(),debug:r.grpcDebug});return this.client=e,e},s,t=>{if(t.statusName=n[t.status],i||0==t.status){for(const e of t.piecesList)for(const t of i)t.position==e.position&&(t.complete=e.complete,t.priority=e.priority);t.piecesList=JSON.parse(JSON.stringify(i))}else i=t.piecesList;e(this.path,t)},(e,t,r)=>{e!==o.grpc.Code.OK?r("failed to get stats torrent code="+e):(y("stats finished url=%o path=%o",this.url,this.path),this.close(),t())},t,r)}}var m=r("T05x"),R=r("8WpJ");const b=r("Ja68")("webtor:sdk:seeder:downloadProgress");class M{constructor(e,t){this.url=e,this.path=t,this.closed=!1,this.client=null}close(){this.closed||(this.closed=!0,b("close download progress url=%o path=%o",this.url,this.path),this.client&&this.client.close())}start(e,t,r,s){const n=new R.StatRequest,i=g()(R.StatReply.Status);return Object(l.a)(()=>{const e=o.grpc.client(m.DownloadProgress.StatStream,{host:this.url,transport:o.grpc.WebsocketTransport(),debug:s.grpcDebug});return this.client=e,e},n,t=>{t.statusName=i[t.status],e(this.path,t)},(e,r,s)=>{e!==o.grpc.Code.OK?s("failed to get download progress code="+e):(b("download progress finished url=%o path=%o",this.url,this.path),this.close(),r()),t(this.path,e)},r,s)}}var w=function(e,t,r,s,n={},i={}){const a=new M(e,t);return a.start(r,s,n,i),a};const T=r("Ja68")("webtor:sdk:seeder"),F=r("JY4U");var S=r("p4j9");class P{constructor(e,t,r){this.infoHash=e,this.params=t,this.sdk=r}addDownloadId(e={},t){return e["download-id"]||(e=Object.assign({},e,{"download-id":S(e["user-id"]+this.infoHash+t+Date.now().toString())})),e}async url(e,t={},r={},s={}){r=Object.assign({},this.params,r),e=e.replace(/^\//,"");let n=new F(r.apiUrl);t=this.addDownloadId(t,e),n.infoHash=this.infoHash,n.path=e;const i="/"+this.infoHash+"/"+encodeURIComponent(e);n.infoHash=this.infoHash,n.set("pathname",i);const a=await this.sdk.util.makeQuery(t,r);if(n.set("query",a),r.subdomains){n=await this.sdk.util.cacheUrl(n,t,r);const e=await this.sdk.util.isCached(n,t,r),i=this.sdk.util.getDeliveryType(n.pathname);if(void 0===i)return n;let a="transcode"==i?r.pools.transcoder:r.pools.seeder;a=e?r.pools.cache:a;const o={infohash:this.infoHash,"use-bandwidth":e,"use-cpu":!e,"skip-active-job-search":e,pool:a.join(",")},l=await this.sdk.util.subdomainUrl(n,s,o,r);if(!1===l)return!1;if(l.primaryHost=n.host,l)return l}return n}async urlPostProcess(e,t,r){if(0==(await this.completedPieces(t,r)).length)return e;const s=this.sdk.util.cdnUrl(e,t,r);return s||e}async streamUrl(e,t={},r={},s={}){r=Object.assign({},this.params,r);let n=await this.url(e,t,r,s);return n=await this.sdk.util.streamUrl(n,t,r,s),n=await this.urlPostProcess(n,t,r),n}async segmentUrl(e,t,r={},s={},n={}){n=Object.assign({},this.params,n);let i=await this.url(e,s,n,r);return!1!==i&&(i=await this.sdk.util.segmentUrl(i,t,s,n,r),i=await this.urlPostProcess(i,s,n),i)}async error(e,t={},r={},s={}){r=Object.assign({},this.params,r);let n=await this.url(e,t,r,s);return await this.sdk.util.error(n,t,r)}async pieceUrl(e,t={},r={}){let s=await this.url("",t,r);return this.sdk.util.pieceUrl(s,e)}async mediaInfo(e,t={},r={}){r=Object.assign({},this.params,r);const s=await this.url(e,t,r);return await this.sdk.util.mediaInfo(s,t,r)}async completedPieces(e={},t={}){t=Object.assign({},this.params,t);const r=await this.url("",e,t);return await this.sdk.util.throttledCompletedPieces(r,e,t)}async isCached(e,t={},r={}){r=Object.assign({},this.params,r);const s=await this.url(e,t,r);return await this.sdk.util.isCached(s,t,r)}async openSubtitles(e,t={},r={}){const s=await this.url(e,t,r);return await this.sdk.util.openSubtitles(s)}async downloadUrl(e,t={},r={},s={}){(r=Object.assign({},this.params,r)).downloadUrl&&(r.apiUrl=r.downloadUrl),t.download=!0;let n=await this.url(e,t,r,s);return n=await this.urlPostProcess(n,t,r),n}async downloadUrlWithProgress(e,t,r,s={},n={},i={}){n=Object.assign({},this.params,n,{cdn:!1}),s=this.addDownloadId(s,e);const a=await this.downloadUrl(e,s,n,i),o=e.split("/").pop(),l=this.sdk.util.dpUrl(a,o),u=this.sdk.util.dpStatUrl(a);return w(u,e,t,r,s,n),l}async zipUrl(e,t={},r={},s={}){(r=Object.assign({},this.params,r)).downloadUrl&&(r.apiUrl=r.downloadUrl);const n=e.split("/").pop();let i=await this.url(e,t,r,s);return i.set("pathname",i.pathname+"~arch/"+n+".zip"),i}async zipUrlWithProgress(e,t,r,s={},n={},i={}){n=Object.assign({},this.params,n,{cdn:!1}),s=this.addDownloadId(s,e);const a=await this.zipUrl(e,s,n,i),o=e.split("/").pop()+".zip",l=this.sdk.util.dpUrl(a,o),u=this.sdk.util.dpStatUrl(a);return w(u,e,t,r,s,n),l}stats(e,t,r={},s={}){const n=`${(s=Object.assign({},this.params,s)).apiUrl}/${this.infoHash}`;return T("get file stats infoHash=%s url=%s path=%s metadata=%o",this.infoHash,n,e,r),function(e,t,r,s={},n={}){const i=new f(e,t);return i.start(r,s,n),i}(n,e,t,r,s)}}var B=function(e,t){const r={params:e,sdk:t};return{get:(e,t={},s={})=>(s=Object.assign({},r.params,s),new P(e,s,r.sdk))}};const k=r("JY4U");var q=function(e,t){const r={params:e,sdk:t};return{async url(e={},t={}){t=Object.assign(r.params,t);const s=new k(t.apiUrl);s.set("pathname","/tracker/"),s.set("protocol","wss:");const n=await r.sdk.util.makeQuery(e,t);return s.set("query",n),s}}},v=r("IY8t"),j=r("UkTR"),E=r("RcZZ"),O=r.n(E),D=r("yhGR"),U=r.n(D),C=r("SDmx"),W=r.n(C);const I=r("33yf"),z=r("JY4U");var x=r("p4j9");const N=r("Ja68")("webtor:sdk:util"),L=r("J/SR")((function(e){return N("fetch url=%o",e.href),fetch(e)}),{retries:3,retryDelay:function(e,t,r){return 1e3*Math.pow(2,e)},retryOn:function(e,t,r){if(null!==t||r.status>=500)return N("got fetch error retry count=%o",e),!0}});function A(e){return e.toLowerCase().replace(/~[a-z0-9]+$/,"")}function G(e){return e.replace(/\/\//,"/")}var _=function(e,t){const r={params:e,sdk:t},s={};return{async makeQuery(e={},t={}){t=Object.assign({},r.params,t);const s=e=Object.assign({},e),n=await t.getToken();return n&&(s.token=n),t.apiKey&&(s["api-key"]=t.apiKey),s},getDeliveryType(e){if(!e)return;let t=I.extname(e);return t=A(t),".avi .mkv .flac .m4a .m4v .ts .vob".split(" ").includes(t)?"transcode":".mp4 .mp3 .wav .ogg .webm".split(" ").includes(t)||".png .gif .jpg .jpeg".split(" ").includes(t)||".vtt .srt".split(" ").includes(t)?"webseed":void 0},getMediaType(e){if(!e)return;let t=I.extname(e);return t=A(t),".avi .mkv .mp4 .webm .m4v .ts .vob".split(" ").includes(t)?"video":".mp3 .wav .ogg .flac .m4a".split(" ").includes(t)?"audio":".png .gif .jpg .jpeg".split(" ").includes(t)?"image":".srt .vtt".split(" ").includes(t)?"subtitle":void 0},getMimeType(e){"object"==typeof e&&(e=e.pathname);const t=I.extname(e);return O.a.getType(t)},getSubtitleSrcLang(e){const t=I.basename(e,I.extname(e));for(const e of j.a.getAllCodes())if(t.endsWith("."+e))return e;return!1},getSubtitleLang(e){const t=this.getSubtitleSrcLang(e);return 0!=t&&this.getLang(t)},getLang:e=>({code:e,name:j.a.getName(e),nativeName:j.a.getNativeName(e)}),cloneUrl:e=>Object.assign(new z,e),vttUrl(e){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~vtt/"+encodeURIComponent(I.basename(e.pathname).replace(/srt$/,"vtt")))),e},primaryUrl(e){return e?((e=this.cloneUrl(e)).primaryHost&&(e.host=e.primaryHost),e):e},completedPiecesUrl(e){return e=this.cloneUrl(e),(e=this.tcUrl(e)).set("pathname",G(e.pathname.replace(/~tc.*$/,"~tc/completed_pieces"))),e},transcodeDoneMarkerUrl(e){return e=this.cloneUrl(e),(e=this.primaryUrl(e)).set("pathname",G(e.pathname+"~trc/done")),e},multibitrateDoneMarkerUrl(e){return e=this.cloneUrl(e),(e=this.primaryUrl(e)).set("pathname",G(e.pathname+"~mtrc/done")),e},transcodeIndexUrl(e){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~trc/index.m3u8")),e},multibitrateIndexUrl(e){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~mtrc/index.m3u8")),e},pieceUrl(e,t){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"/piece/"+t)),e},tcUrl(e){return(e=this.cloneUrl(e)).pathname.includes("~tc")||e.set("pathname",G(e.pathname+"~tc/"+encodeURIComponent(I.basename(e.path)))),e},hlsUrl(e,t){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~hls/"+t)),e},trcUrl(e,t){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~trc/"+t)),e},mtrcUrl(e,t){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~mtrc/"+t)),e},vodUrl(e,t){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~vod/hls/"+x(G(e.pathname))+"/"+t)),e},viUrl(e,t){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~vi"+t)),e},dpUrl(e,t){return(e=this.cloneUrl(e)).set("pathname",G(e.pathname+"~dp/"+t)),e},dpStatUrl(e){return(e=this.cloneUrl(e)).set("pathname","/dp"),e.set("query",""),e},async baseStreamUrl(e,t,r,s,n){e=this.cloneUrl(e);const i=this.getDeliveryType(e.pathname);if(s.vod&&".mp4"==A(I.extname(e.pathname))){if(s.multibitrate){if(await this.throttledMultibitrateDoneMarker(e,r,s))return e.multibitrate=!0,e.cached=!0,this.mtrcUrl(e,t)}return this.vodUrl(e,t)}if(".srt"==A(I.extname(e.pathname)))return this.vttUrl(e);if("transcode"==i){if(s.multibitrate){if(await this.throttledMultibitrateDoneMarker(e,r,s))return e.multibitrate=!0,e.cached=!0,this.mtrcUrl(e,t)}if(s.cache){if(await this.throttledTranscodeDoneMarker(e,r,s))return e.cached=!0,this.trcUrl(e,t)}return this.hlsUrl(e,t)}return e},async streamUrl(e,t,r,s){return this.baseStreamUrl(e,"index.m3u8",t,r,s)},async segmentUrl(e,t,r,s,n){return this.baseStreamUrl(e,t,r,s,n)},async error(e,t,r){e=this.cloneUrl(e);const s=this.getDeliveryType(e.pathname),n=this.getMediaType(e.pathname);if("webseed"==s||"subtitle"==n)return;if(r.cache){if(await this.throttledTranscodeDoneMarker(e,t,r))return;e=this.hlsUrl(e,"error.log")}else e=this.hlsUrl(e,"error.log");const i=await fetch(e);return await i.text()},async transcodeDoneMarker(e){e=this.cloneUrl(e),e=this.transcodeDoneMarkerUrl(e);return 200==(await L(e)).status},async multibitrateDoneMarker(e){e=this.cloneUrl(e),e=this.multibitrateDoneMarkerUrl(e);return 200==(await L(e)).status},async transcodeIndexExists(e){e=this.cloneUrl(e),e=this.transcodeIndexUrl(e);return 200==(await L(e)).status},async multibitrateIndexExists(e){e=this.cloneUrl(e),e=this.multibitrateIndexUrl(e);return 200==(await L(e)).status},async completedPieces(e){e=this.cloneUrl(e),e=this.completedPiecesUrl(e);const t=await L(e),r=await t.arrayBuffer(),s=new Uint8Array(r),n=(i=s,Array.prototype.map.call(new Uint8Array(i),e=>("00"+e.toString(16)).slice(-2)).join(""));var i;const a=[];let o="";for(const e of n)o+=e,40==o.length&&(a.push(o),o="");return a},async mediaInfo(e,t={},r={}){e=this.cloneUrl(e);const s=this.getDeliveryType(e.pathname),n=this.getMediaType(e.pathname);if("webseed"==s||"subtitle"==n)return{};if(r.cache){e=await this.throttledTranscodeDoneMarker(e,t,r)?this.trcUrl(e,"index.json"):this.hlsUrl(e,"index.json")}else e=this.hlsUrl(e,"index.json");const i=await L(e);return await i.json()},async openSubtitles(e){e=this.cloneUrl(e);if("video"!=this.getMediaType(e.pathname))return{};const t=this.viUrl(e,"/subtitles.json"),r=await L(t),s=await r.json();for(const t in s){const r=s[t].format;if("srt"!=r&&"vtt"!=r)continue;let n=s[t].src,i=this.viUrl(e,n);"vtt"!=r&&(i=this.vttUrl(i)),s[t].src=i}return s},async subdomainsUrl(e={},t={}){t=Object.assign({},r.params,t);const s=new z(t.apiUrl);s.set("pathname","/subdomains.json");const n=await r.sdk.util.makeQuery(e,t);return s.set("query",n),s},checkApi:async(e={},t={})=>(t=Object.assign({},r.params,t),fetch(t.apiUrl)),async subdomains(e,t,s={},n={}){n=Object.assign({},r.params,n);const i=await this.subdomainsUrl(s,n),a=await L(i),o=await a.json(),l=[];for(const e of o)l.push(e);return l},isCDNAllowed(e,t={}){t=Object.assign({},r.params,t);for(const r of t.cdnPathSuffixes)if(A(e).endsWith(r))return!0;return!1},cdnUrl(e,t={},s={}){if(e=this.cloneUrl(e),(s=Object.assign({},r.params,s)).cdn&&s.cdnUrl&&this.isCDNAllowed(e.pathname,s)){let t=new z(s.cdnUrl);return e.set("hostname",t.hostname),e.set("protocol",t.protocol),e.set("query","?api-key="+s.apiKey),e}return!1},async throttled(e,t,r,n,i,a,o){let l=r.infoHash+n+e.name;o&&(l+=o),s[l]||(s[l]=W()(U()(e,this,r,n,i,a),t,{trailing:!1}));const u=s[l];return await u()},async cacheUrl(e,t,r){return(await this.throttledCompletedPieces(e,t,r)).length>0?this.tcUrl(e):e},async throttledCompletedPieces(e,t={},r={}){let s=[];return r.cache&&(s=await this.throttled(this.completedPieces,6e5,e,null,t,r)),s},async throttledTranscodeIndexExists(e,t={},r={}){let s=!1;return r.cache&&(s=await this.throttled(this.transcodeIndexExists,6e5,e,e.path,t,r)),s},async throttledTranscodeDoneMarker(e,t={},r={}){let s=!1;return r.cache&&(s=await this.throttled(this.transcodeDoneMarker,6e5,e,e.path,t,r)),s},async throttledMultibitrateDoneMarker(e,t={},r={}){let s=!1;return r.cache&&(s=await this.throttled(this.multibitrateDoneMarker,6e5,e,e.path,t,r)),s},async throttledMultibitrateIndexExists(e,t={},r={}){let s=!1;return r.cache&&(s=await this.throttled(this.multibitrateIndexExists,6e5,e,e.path,t,r)),s},async isCached(e,t={},r={}){const s=this.getDeliveryType(e.pathname);if("video"==this.getMediaType(e.pathname)&&await this.throttledMultibitrateDoneMarker(e,t,r))return!0;if("transcode"==s&&await this.throttledTranscodeDoneMarker(e,t,r))return!0;return(await this.throttledCompletedPieces(e,t,r)).length>0},async subdomainUrl(e,t={},s={},n={}){if(e=this.cloneUrl(e),!(n=Object.assign({},r.params,n)).subdomains)return e;try{const r=await this.throttled(this.subdomains,3e4,e,null,s,n,s.pool);t.usedSubdomains||(t.usedSubdomains=[]);let i=r.filter(e=>!t.usedSubdomains.includes(e));if(0==i.length&&r.length>0&&(i=[r[0]],t.usedSubdomains=[]),0!==i.length){const r=i[0];e.set("hostname",r+"."+e.hostname),t.usedSubdomains.push(r)}}catch(e){return N(e),console.log(e),!1}return e}}};const H=r("gEaE"),J=r("JY4U");var $=function(e,t){const r={params:e,sdk:t};return{async url(e,t={},s={}){s=Object.assign(r.params,s);const n=new J(s.apiUrl);let i="";i=s.fileName?s.fileName:H(e).base;const a="/ext/"+encodeURIComponent(btoa(e))+"/"+i;n.set("pathname",a);const o=await r.sdk.util.makeQuery(t,s);return n.set("query",o),n},async streamSubtitleUrl(e,t={},s={}){const n=await this.url(e,t,s);return r.sdk.util.streamSubtitleUrl(n)},async streamUrl(e,t={},s={}){s=Object.assign({},this.params,s);let n=await this.url(e,t,s);return r.sdk.util.streamUrl(n,t,s)},async mediaInfo(e,t={},s={}){const n=await this.url(e,t,s);return await r.sdk.util.mediaInfo(n)},async openSubtitles(e,t={},s={}){const n=await this.url(e,t,s);return await r.sdk.util.openSubtitles(n)}}};const K={db:null,grpcDebug:!1,retryInterval:1e3,retryLimit:3,cache:!1,multibitrate:!1,vod:!1,pools:{cache:[],seeder:[],transcoder:[]},subdomains:!1,getToken:async()=>null,endpoints:{torrent:"/store"},tokenRenewInterval:6e4};t.a=function(e={}){return function(e={}){if((e=Object.assign(K,e)).tokenUrl&&(e.getToken=async()=>(await fetch(e.tokenUrl)).text()),e.tokenRenewInterval){const t=e.getToken;e.getToken=W()(t,e.tokenRenewInterval,{trailing:!1})}let t={};return t=Object.assign(t,{params:e,tracker:q(e,t),seeder:B(e,t),ext:$(e,t),magnet:Object(n.a)(e,t),torrent:Object(s.a)(e,t),abuse:c(e),util:_(e,t),loader:Object(v.a)(e,t)}),t.checkApi=(e={},r={})=>t.util.checkApi(e,r),t.load=(e,r={},s={})=>t.loader.load(e,r,s),t.loadById=(e,r,s={},n={})=>t.loader.loadById(e,r,s,n),t}(e)}},pDVM:function(e,t,r){var s=r("FSvW"),n=s,i={};n.exportSymbol("CheckReply",null,i),n.exportSymbol("CheckRequest",null,i),n.exportSymbol("PullReply",null,i),n.exportSymbol("PullRequest",null,i),n.exportSymbol("PushReply",null,i),n.exportSymbol("PushRequest",null,i),n.exportSymbol("TouchReply",null,i),n.exportSymbol("TouchRequest",null,i),i.PushReply=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.PushReply,s.Message),n.DEBUG&&!COMPILED&&(i.PushReply.displayName="proto.PushReply"),i.PushRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.PushRequest,s.Message),n.DEBUG&&!COMPILED&&(i.PushRequest.displayName="proto.PushRequest"),i.PullRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.PullRequest,s.Message),n.DEBUG&&!COMPILED&&(i.PullRequest.displayName="proto.PullRequest"),i.PullReply=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.PullReply,s.Message),n.DEBUG&&!COMPILED&&(i.PullReply.displayName="proto.PullReply"),i.CheckRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.CheckRequest,s.Message),n.DEBUG&&!COMPILED&&(i.CheckRequest.displayName="proto.CheckRequest"),i.CheckReply=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.CheckReply,s.Message),n.DEBUG&&!COMPILED&&(i.CheckReply.displayName="proto.CheckReply"),i.TouchReply=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.TouchReply,s.Message),n.DEBUG&&!COMPILED&&(i.TouchReply.displayName="proto.TouchReply"),i.TouchRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.TouchRequest,s.Message),n.DEBUG&&!COMPILED&&(i.TouchRequest.displayName="proto.TouchRequest"),s.Message.GENERATE_TO_OBJECT&&(i.PushReply.prototype.toObject=function(e){return i.PushReply.toObject(e,this)},i.PushReply.toObject=function(e,t){var r={infohash:s.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),i.PushReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.PushReply;return i.PushReply.deserializeBinaryFromReader(r,t)},i.PushReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setInfohash(r);break;default:t.skipField()}}return e},i.PushReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.PushReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.PushReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getInfohash()).length>0&&t.writeString(1,r)},i.PushReply.prototype.getInfohash=function(){return s.Message.getFieldWithDefault(this,1,"")},i.PushReply.prototype.setInfohash=function(e){return s.Message.setProto3StringField(this,1,e)},s.Message.GENERATE_TO_OBJECT&&(i.PushRequest.prototype.toObject=function(e){return i.PushRequest.toObject(e,this)},i.PushRequest.toObject=function(e,t){var r={torrent:t.getTorrent_asB64(),expire:s.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),i.PushRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.PushRequest;return i.PushRequest.deserializeBinaryFromReader(r,t)},i.PushRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setTorrent(r);break;case 2:r=t.readInt32();e.setExpire(r);break;default:t.skipField()}}return e},i.PushRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.PushRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.PushRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTorrent_asU8()).length>0&&t.writeBytes(1,r),0!==(r=e.getExpire())&&t.writeInt32(2,r)},i.PushRequest.prototype.getTorrent=function(){return s.Message.getFieldWithDefault(this,1,"")},i.PushRequest.prototype.getTorrent_asB64=function(){return s.Message.bytesAsB64(this.getTorrent())},i.PushRequest.prototype.getTorrent_asU8=function(){return s.Message.bytesAsU8(this.getTorrent())},i.PushRequest.prototype.setTorrent=function(e){return s.Message.setProto3BytesField(this,1,e)},i.PushRequest.prototype.getExpire=function(){return s.Message.getFieldWithDefault(this,2,0)},i.PushRequest.prototype.setExpire=function(e){return s.Message.setProto3IntField(this,2,e)},s.Message.GENERATE_TO_OBJECT&&(i.PullRequest.prototype.toObject=function(e){return i.PullRequest.toObject(e,this)},i.PullRequest.toObject=function(e,t){var r={infohash:s.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),i.PullRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.PullRequest;return i.PullRequest.deserializeBinaryFromReader(r,t)},i.PullRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setInfohash(r);break;default:t.skipField()}}return e},i.PullRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.PullRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.PullRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getInfohash()).length>0&&t.writeString(1,r)},i.PullRequest.prototype.getInfohash=function(){return s.Message.getFieldWithDefault(this,1,"")},i.PullRequest.prototype.setInfohash=function(e){return s.Message.setProto3StringField(this,1,e)},s.Message.GENERATE_TO_OBJECT&&(i.PullReply.prototype.toObject=function(e){return i.PullReply.toObject(e,this)},i.PullReply.toObject=function(e,t){var r={torrent:t.getTorrent_asB64()};return e&&(r.$jspbMessageInstance=t),r}),i.PullReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.PullReply;return i.PullReply.deserializeBinaryFromReader(r,t)},i.PullReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setTorrent(r);break;default:t.skipField()}}return e},i.PullReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.PullReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.PullReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getTorrent_asU8()).length>0&&t.writeBytes(1,r)},i.PullReply.prototype.getTorrent=function(){return s.Message.getFieldWithDefault(this,1,"")},i.PullReply.prototype.getTorrent_asB64=function(){return s.Message.bytesAsB64(this.getTorrent())},i.PullReply.prototype.getTorrent_asU8=function(){return s.Message.bytesAsU8(this.getTorrent())},i.PullReply.prototype.setTorrent=function(e){return s.Message.setProto3BytesField(this,1,e)},s.Message.GENERATE_TO_OBJECT&&(i.CheckRequest.prototype.toObject=function(e){return i.CheckRequest.toObject(e,this)},i.CheckRequest.toObject=function(e,t){var r={infohash:s.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),i.CheckRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.CheckRequest;return i.CheckRequest.deserializeBinaryFromReader(r,t)},i.CheckRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setInfohash(r);break;default:t.skipField()}}return e},i.CheckRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.CheckRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.CheckRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getInfohash()).length>0&&t.writeString(1,r)},i.CheckRequest.prototype.getInfohash=function(){return s.Message.getFieldWithDefault(this,1,"")},i.CheckRequest.prototype.setInfohash=function(e){return s.Message.setProto3StringField(this,1,e)},s.Message.GENERATE_TO_OBJECT&&(i.CheckReply.prototype.toObject=function(e){return i.CheckReply.toObject(e,this)},i.CheckReply.toObject=function(e,t){var r={exists:s.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(r.$jspbMessageInstance=t),r}),i.CheckReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.CheckReply;return i.CheckReply.deserializeBinaryFromReader(r,t)},i.CheckReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setExists(r);break;default:t.skipField()}}return e},i.CheckReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.CheckReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.CheckReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getExists())&&t.writeBool(1,r)},i.CheckReply.prototype.getExists=function(){return s.Message.getBooleanFieldWithDefault(this,1,!1)},i.CheckReply.prototype.setExists=function(e){return s.Message.setProto3BooleanField(this,1,e)},s.Message.GENERATE_TO_OBJECT&&(i.TouchReply.prototype.toObject=function(e){return i.TouchReply.toObject(e,this)},i.TouchReply.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),i.TouchReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.TouchReply;return i.TouchReply.deserializeBinaryFromReader(r,t)},i.TouchReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},i.TouchReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.TouchReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.TouchReply.serializeBinaryToWriter=function(e,t){},s.Message.GENERATE_TO_OBJECT&&(i.TouchRequest.prototype.toObject=function(e){return i.TouchRequest.toObject(e,this)},i.TouchRequest.toObject=function(e,t){var r={infohash:s.Message.getFieldWithDefault(t,1,""),expire:s.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),i.TouchRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.TouchRequest;return i.TouchRequest.deserializeBinaryFromReader(r,t)},i.TouchRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setInfohash(r);break;case 2:r=t.readInt32();e.setExpire(r);break;default:t.skipField()}}return e},i.TouchRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.TouchRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.TouchRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getInfohash()).length>0&&t.writeString(1,r),0!==(r=e.getExpire())&&t.writeInt32(2,r)},i.TouchRequest.prototype.getInfohash=function(){return s.Message.getFieldWithDefault(this,1,"")},i.TouchRequest.prototype.setInfohash=function(e){return s.Message.setProto3StringField(this,1,e)},i.TouchRequest.prototype.getExpire=function(){return s.Message.getFieldWithDefault(this,2,0)},i.TouchRequest.prototype.setExpire=function(e){return s.Message.setProto3IntField(this,2,e)},n.object.extend(t,i)},pKfA:function(e,t,r){var s=r("Qeei"),n=r("Zm7i").grpc,i=function(){function e(){}return e.serviceName="AbuseStore",e}();function a(e,t){this.serviceHost=e,this.options=t||{}}i.Push={methodName:"Push",service:i,requestStream:!1,responseStream:!1,requestType:s.PushRequest,responseType:s.PushReply},i.Check={methodName:"Check",service:i,requestStream:!1,responseStream:!1,requestType:s.CheckRequest,responseType:s.CheckReply},t.AbuseStore=i,a.prototype.push=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Push,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},a.prototype.check=function(e,t,r){2===arguments.length&&(r=arguments[1]);var s=n.unary(i.Check,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(r)if(e.status!==n.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,r(t,null)}else r(null,e.message)}});return{cancel:function(){r=null,s.close()}}},t.AbuseStoreClient=a},"qa/P":function(e,t,r){e.exports=r("5Lbg")},xPdp:function(e,t,r){var s=r("FSvW"),n=s,i={};n.exportSymbol("File",null,i),n.exportSymbol("FilesReply",null,i),n.exportSymbol("FilesRequest",null,i),n.exportSymbol("Piece",null,i),n.exportSymbol("Piece.Priority",null,i),n.exportSymbol("StatReply",null,i),n.exportSymbol("StatReply.Status",null,i),n.exportSymbol("StatRequest",null,i),i.StatRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.StatRequest,s.Message),n.DEBUG&&!COMPILED&&(i.StatRequest.displayName="proto.StatRequest"),i.StatReply=function(e){s.Message.initialize(this,e,0,-1,i.StatReply.repeatedFields_,null)},n.inherits(i.StatReply,s.Message),n.DEBUG&&!COMPILED&&(i.StatReply.displayName="proto.StatReply"),i.Piece=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.Piece,s.Message),n.DEBUG&&!COMPILED&&(i.Piece.displayName="proto.Piece"),i.FilesRequest=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.FilesRequest,s.Message),n.DEBUG&&!COMPILED&&(i.FilesRequest.displayName="proto.FilesRequest"),i.File=function(e){s.Message.initialize(this,e,0,-1,null,null)},n.inherits(i.File,s.Message),n.DEBUG&&!COMPILED&&(i.File.displayName="proto.File"),i.FilesReply=function(e){s.Message.initialize(this,e,0,-1,i.FilesReply.repeatedFields_,null)},n.inherits(i.FilesReply,s.Message),n.DEBUG&&!COMPILED&&(i.FilesReply.displayName="proto.FilesReply"),s.Message.GENERATE_TO_OBJECT&&(i.StatRequest.prototype.toObject=function(e){return i.StatRequest.toObject(e,this)},i.StatRequest.toObject=function(e,t){var r={path:s.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),i.StatRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.StatRequest;return i.StatRequest.deserializeBinaryFromReader(r,t)},i.StatRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPath(r);break;default:t.skipField()}}return e},i.StatRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.StatRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.StatRequest.serializeBinaryToWriter=function(e,t){var r;(r=e.getPath()).length>0&&t.writeString(1,r)},i.StatRequest.prototype.getPath=function(){return s.Message.getFieldWithDefault(this,1,"")},i.StatRequest.prototype.setPath=function(e){return s.Message.setProto3StringField(this,1,e)},i.StatReply.repeatedFields_=[5],s.Message.GENERATE_TO_OBJECT&&(i.StatReply.prototype.toObject=function(e){return i.StatReply.toObject(e,this)},i.StatReply.toObject=function(e,t){var r={total:s.Message.getFieldWithDefault(t,1,0),completed:s.Message.getFieldWithDefault(t,2,0),peers:s.Message.getFieldWithDefault(t,3,0),status:s.Message.getFieldWithDefault(t,4,0),piecesList:s.Message.toObjectList(t.getPiecesList(),i.Piece.toObject,e),seeders:s.Message.getFieldWithDefault(t,6,0),leechers:s.Message.getFieldWithDefault(t,7,0)};return e&&(r.$jspbMessageInstance=t),r}),i.StatReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.StatReply;return i.StatReply.deserializeBinaryFromReader(r,t)},i.StatReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setTotal(r);break;case 2:r=t.readInt64();e.setCompleted(r);break;case 3:r=t.readInt32();e.setPeers(r);break;case 4:r=t.readEnum();e.setStatus(r);break;case 5:r=new i.Piece;t.readMessage(r,i.Piece.deserializeBinaryFromReader),e.addPieces(r);break;case 6:r=t.readInt32();e.setSeeders(r);break;case 7:r=t.readInt32();e.setLeechers(r);break;default:t.skipField()}}return e},i.StatReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.StatReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.StatReply.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getTotal())&&t.writeInt64(1,r),0!==(r=e.getCompleted())&&t.writeInt64(2,r),0!==(r=e.getPeers())&&t.writeInt32(3,r),0!==(r=e.getStatus())&&t.writeEnum(4,r),(r=e.getPiecesList()).length>0&&t.writeRepeatedMessage(5,r,i.Piece.serializeBinaryToWriter),0!==(r=e.getSeeders())&&t.writeInt32(6,r),0!==(r=e.getLeechers())&&t.writeInt32(7,r)},i.StatReply.Status={INITIALIZATION:0,SEEDING:1,IDLE:2,TERMINATED:3,WAITING_FOR_PEERS:4,RESTORING:5,BACKINGUP:6},i.StatReply.prototype.getTotal=function(){return s.Message.getFieldWithDefault(this,1,0)},i.StatReply.prototype.setTotal=function(e){return s.Message.setProto3IntField(this,1,e)},i.StatReply.prototype.getCompleted=function(){return s.Message.getFieldWithDefault(this,2,0)},i.StatReply.prototype.setCompleted=function(e){return s.Message.setProto3IntField(this,2,e)},i.StatReply.prototype.getPeers=function(){return s.Message.getFieldWithDefault(this,3,0)},i.StatReply.prototype.setPeers=function(e){return s.Message.setProto3IntField(this,3,e)},i.StatReply.prototype.getStatus=function(){return s.Message.getFieldWithDefault(this,4,0)},i.StatReply.prototype.setStatus=function(e){return s.Message.setProto3EnumField(this,4,e)},i.StatReply.prototype.getPiecesList=function(){return s.Message.getRepeatedWrapperField(this,i.Piece,5)},i.StatReply.prototype.setPiecesList=function(e){return s.Message.setRepeatedWrapperField(this,5,e)},i.StatReply.prototype.addPieces=function(e,t){return s.Message.addToRepeatedWrapperField(this,5,e,i.Piece,t)},i.StatReply.prototype.clearPiecesList=function(){return this.setPiecesList([])},i.StatReply.prototype.getSeeders=function(){return s.Message.getFieldWithDefault(this,6,0)},i.StatReply.prototype.setSeeders=function(e){return s.Message.setProto3IntField(this,6,e)},i.StatReply.prototype.getLeechers=function(){return s.Message.getFieldWithDefault(this,7,0)},i.StatReply.prototype.setLeechers=function(e){return s.Message.setProto3IntField(this,7,e)},s.Message.GENERATE_TO_OBJECT&&(i.Piece.prototype.toObject=function(e){return i.Piece.toObject(e,this)},i.Piece.toObject=function(e,t){var r={position:s.Message.getFieldWithDefault(t,1,0),complete:s.Message.getBooleanFieldWithDefault(t,2,!1),priority:s.Message.getFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),i.Piece.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.Piece;return i.Piece.deserializeBinaryFromReader(r,t)},i.Piece.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setPosition(r);break;case 2:r=t.readBool();e.setComplete(r);break;case 3:r=t.readEnum();e.setPriority(r);break;default:t.skipField()}}return e},i.Piece.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.Piece.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.Piece.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getPosition())&&t.writeInt64(1,r),(r=e.getComplete())&&t.writeBool(2,r),0!==(r=e.getPriority())&&t.writeEnum(3,r)},i.Piece.Priority={NONE:0,NORMAL:1,HIGH:2,READAHEAD:3,NEXT:4,NOW:5},i.Piece.prototype.getPosition=function(){return s.Message.getFieldWithDefault(this,1,0)},i.Piece.prototype.setPosition=function(e){return s.Message.setProto3IntField(this,1,e)},i.Piece.prototype.getComplete=function(){return s.Message.getBooleanFieldWithDefault(this,2,!1)},i.Piece.prototype.setComplete=function(e){return s.Message.setProto3BooleanField(this,2,e)},i.Piece.prototype.getPriority=function(){return s.Message.getFieldWithDefault(this,3,0)},i.Piece.prototype.setPriority=function(e){return s.Message.setProto3EnumField(this,3,e)},s.Message.GENERATE_TO_OBJECT&&(i.FilesRequest.prototype.toObject=function(e){return i.FilesRequest.toObject(e,this)},i.FilesRequest.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),i.FilesRequest.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.FilesRequest;return i.FilesRequest.deserializeBinaryFromReader(r,t)},i.FilesRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){t.getFieldNumber();t.skipField()}return e},i.FilesRequest.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.FilesRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.FilesRequest.serializeBinaryToWriter=function(e,t){},s.Message.GENERATE_TO_OBJECT&&(i.File.prototype.toObject=function(e){return i.File.toObject(e,this)},i.File.toObject=function(e,t){var r={path:s.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),i.File.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.File;return i.File.deserializeBinaryFromReader(r,t)},i.File.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setPath(r);break;default:t.skipField()}}return e},i.File.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.File.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.File.serializeBinaryToWriter=function(e,t){var r;(r=e.getPath()).length>0&&t.writeString(1,r)},i.File.prototype.getPath=function(){return s.Message.getFieldWithDefault(this,1,"")},i.File.prototype.setPath=function(e){return s.Message.setProto3StringField(this,1,e)},i.FilesReply.repeatedFields_=[1],s.Message.GENERATE_TO_OBJECT&&(i.FilesReply.prototype.toObject=function(e){return i.FilesReply.toObject(e,this)},i.FilesReply.toObject=function(e,t){var r={filesList:s.Message.toObjectList(t.getFilesList(),i.File.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),i.FilesReply.deserializeBinary=function(e){var t=new s.BinaryReader(e),r=new i.FilesReply;return i.FilesReply.deserializeBinaryFromReader(r,t)},i.FilesReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new i.File;t.readMessage(r,i.File.deserializeBinaryFromReader),e.addFiles(r);break;default:t.skipField()}}return e},i.FilesReply.prototype.serializeBinary=function(){var e=new s.BinaryWriter;return i.FilesReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},i.FilesReply.serializeBinaryToWriter=function(e,t){var r;(r=e.getFilesList()).length>0&&t.writeRepeatedMessage(1,r,i.File.serializeBinaryToWriter)},i.FilesReply.prototype.getFilesList=function(){return s.Message.getRepeatedWrapperField(this,i.File,1)},i.FilesReply.prototype.setFilesList=function(e){return s.Message.setRepeatedWrapperField(this,1,e)},i.FilesReply.prototype.addFiles=function(e,t){return s.Message.addToRepeatedWrapperField(this,1,e,i.File,t)},i.FilesReply.prototype.clearFilesList=function(){return this.setFilesList([])},n.object.extend(t,i)}}]);
//# sourceMappingURL=async_main_493df0b3.e4674fd2036cfb36a166.bundle.js.map